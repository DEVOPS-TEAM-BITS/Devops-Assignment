version: '3'
services:
 cloud-gateway:
   container_name: cloud-gateway
   build:
     context: cloud-gateway
     dockerfile: Dockerfile
   image: "cloud-gateway"
   ports:
    - 8080
 department-service:
   container_name: department-service
   build:
     context: department-service
     dockerfile: Dockerfile
   image: "department-service"
   ports:
     - 8081
   depends_on:
     - cloud-gateway
 user-service:
   container_name: user-service
   build:
     context: user-service
     dockerfile: Dockerfile
   image: "user-service"
   ports:
     - 8083
   depends_on:
     - department-service
 service-registry:
   container_name: service-registry
   build:
     context: service-registry
     dockerfile: Dockerfile
   image: "service-registry"
   ports:
     - 8761
   depends_on:
     - user-service
